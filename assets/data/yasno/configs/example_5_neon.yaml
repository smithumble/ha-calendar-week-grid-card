type: custom:calendar-week-grid-card
language: en
time_format: 'HH:mm'
entities:
  - entity: calendar.planned_outages
    filter: Outage
  - entity: calendar.probable_outages
  - entity: calendar.planned_outages
    filter: Emergency Shutdowns
  - entity: calendar.planned_outages
    filter: Waiting for Schedule
  - entity: calendar.planned_outages
    filter: Schedule Applies
css: |
  ha-card {
    --neon-green: #00E676;
    --neon-green-shadow: rgba(0, 230, 118, 0.3);
    --neon-green-bg: rgba(0, 230, 118, 0.01);
    --neon-grey: #B0BEC5;
    --neon-grey-bg: rgba(255, 255, 255, 0.03);
    --neon-orange: #FF9800;
    --neon-orange-grad-1: rgba(255, 152, 0, 0.08);
    --neon-orange-grad-2: rgba(255, 152, 0, 0.15);
    --neon-red: #FF5252;
    --neon-red-shadow: rgba(255, 82, 82, 0.3);
    --neon-red-grad-1: rgba(244, 67, 54, 0.08);
    --neon-red-grad-2: rgba(244, 67, 54, 0.15);
    --neon-dark-red-bg: rgba(183, 28, 28, 0.2);
    --neon-light-red: #FF8A80;
    --neon-blue-grey: #90A4AE;
    --neon-blue-grey-bg: rgba(120, 144, 156, 0.05);
    --neon-light-blue-bg: rgba(3, 169, 244, 0.05);
    --neon-light-blue: #29B6F6;
    --shadow-color: rgba(0,0,0,0.1);
    border-radius: 12px;
    padding: 12px;
    box-shadow: 0 4px 6px var(--shadow-color);
  }

  .grid-container {
    gap: 4px;
  }

  .cell {
    height: 28px;
    --event-border-radius: 6px;

    ha-icon {
      --mdc-icon-size: 18px;
    }

    .event-block {
      background-color: var(--neon-green-bg);
      border-radius: 6px;
    }

    &:not(.has-event) ha-icon {
      --icon: mdi:lightning-bolt;
      color: var(--neon-green);
      opacity: 0.7;
      filter: drop-shadow(0 0 2px var(--neon-green-shadow));
    }

    .event-block-wrapper[data-entity] {
      ha-icon {
        --icon: mdi:help-circle;
        color: var(--neon-grey);
      }

      .event-sub-block {
        background-color: var(--neon-grey-bg);
      }
    }

    [data-entity="calendar.planned_outages"] {
      &[data-filter="Outage"] {
        &.event-icon {
          --icon: mdi:power-plug-off;
          color: var(--neon-red);
          filter: drop-shadow(0 0 2px var(--neon-red-shadow));
        }

        .event-sub-block {
          background: repeating-linear-gradient(45deg, var(--neon-red-grad-1),
            var(--neon-red-grad-1) 10px, var(--neon-red-grad-2) 10px, var(--neon-red-grad-2) 20px);
        }
      }

      &[data-filter="Emergency Shutdowns"] {
        &.event-icon {
          --icon: mdi:transmission-tower-off;
          color: var(--neon-light-red);
          opacity: 1;
        }

        .event-sub-block {
          background-color: var(--neon-dark-red-bg);
        }
      }

      &[data-filter="Waiting for Schedule"] {
        &.event-icon {
          --icon: mdi:timer-sand;
          color: var(--neon-blue-grey);
        }

        .event-sub-block {
          background-color: var(--neon-blue-grey-bg);
        }
      }

      &[data-filter="Schedule Applies"] {
        &.event-icon {
          --icon: mdi:calendar-check;
          color: var(--neon-light-blue);
        }

        .event-sub-block {
          background-color: var(--neon-light-blue-bg);
        }
      }
    }

    [data-entity="calendar.probable_outages"] {
      &.event-icon {
        --icon: mdi:alert-circle-outline;
        color: var(--neon-orange);
        opacity: 0.9;
      }

      .event-sub-block {
        background: repeating-linear-gradient(45deg, var(--neon-orange-grad-1),
          var(--neon-orange-grad-1) 10px, var(--neon-orange-grad-2) 10px, var(--neon-orange-grad-2) 20px);
      }
    }
  }
