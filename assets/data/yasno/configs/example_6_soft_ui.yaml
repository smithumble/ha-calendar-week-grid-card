type: custom:calendar-week-grid-card
language: en
time_format: 'HH:mm'
icons_container: event
icons_mode: all
entities:
  - entity: calendar.planned_outages
    filter: Outage
  - entity: calendar.probable_outages
  - entity: calendar.planned_outages
    filter: Emergency Shutdowns
  - entity: calendar.planned_outages
    filter: Waiting for Schedule
  - entity: calendar.planned_outages
    filter: Schedule Applies
css: |
  ha-card {
    --white: #FFFFFF;
    --text-color: #444;
    --blank-bg: #F5F5F5;
    --blank-icon: #E0E0E0;
    --probable-bg: #B9F6CA;
    --probable-icon: #1B5E20;
    --outage-bg: #FF8A80;
    --emergency-bg: #FF80AB;
    --waiting-bg: #80DEEA;
    --waiting-icon: #006064;
    --schedule-bg: #FFF176;
    --schedule-icon: #F57F17;
    --shadow-color: rgba(0,0,0,0.1);
    background: var(--white);
    border-radius: 24px;
    padding: 16px;
    box-shadow: 0 8px 16px var(--shadow-color);
    --text-primary: var(--text-color);
    --text-secondary: var(--text-color);
  }

  .grid-container {
    gap: 8px;
  }

  .cell {
    height: 34px;
    border-radius: 17px;

    ha-icon {
      --mdc-icon-size: 20px;
    }

    .event-block {
      background-color: var(--blank-bg);
    }

    .event-block-blank ha-icon {
      --icon: mdi:circle-outline;
      color: var(--blank-icon);
    }

    [data-entity="calendar.planned_outages"] {
      &[data-filter="Outage"] {
        &.event-icon {
          --icon: mdi:close-circle;
          color: var(--white);
        }

        .event-block {
          background-color: var(--outage-bg);
        }
      }

      &[data-filter="Emergency Shutdowns"] {
        &.event-icon {
          --icon: mdi:alert-circle;
          color: var(--white);
        }

        .event-block {
          background-color: var(--emergency-bg);
        }
      }

      &[data-filter="Waiting for Schedule"] {
        &.event-icon {
          --icon: mdi:clock-outline;
          color: var(--waiting-icon);
        }

        .event-block {
          background-color: var(--waiting-bg);
        }
      }

      &[data-filter="Schedule Applies"] {
        &.event-icon {
          --icon: mdi:circle-outline;
          color: var(--schedule-icon);
        }

        .event-block {
          background-color: var(--schedule-bg);
        }
      }
    }

    [data-entity="calendar.probable_outages"] {
      &.event-icon {
        --icon: mdi:close-circle;
        color: var(--probable-icon);
      }

      .event-block {
        background-color: var(--probable-bg);
      }
    }
  }
