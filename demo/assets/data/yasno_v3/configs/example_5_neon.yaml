type: custom:calendar-week-grid-card
language: en
primary_date_format:
  weekday: 'short'
secondary_date_format:
  day: 'numeric'
  month: 'short'
time_format:
  hour: '2-digit'
  minute: '2-digit'
  hour12: false
blank_icon: mdi:lightning-bolt
all_day_icon: mdi:circle-outline
all_day: row
entities_variables:
  color:
    name: Event Color
    description: The color of the event.
  opacity:
    name: Opacity
    description: The opacity of the event background (0.1 to 1.0).
  border-radius:
    name: Border Radius
    description: The border radius of the event in pixels.
  background:
    name: Background
    description: The background of the event (color or repeating-linear-gradient).
entities:
  - name: planned_outages
    entity: calendar.planned_outages
    filter: Outage
    icon: mdi:flash-off
    color: '#FF5252'
    opacity: 0.08
    background: 'repeating-linear-gradient(45deg, rgb(from #FF5252 r g b / 0.08), rgb(from #FF5252 r g b / 0.08) 10px, rgb(from #FF5252 r g b / 0.15) 10px, rgb(from #FF5252 r g b / 0.15) 20px)'
  - name: probable_outages
    entity: calendar.probable_outages
    icon: mdi:alert-circle-outline
    color: '#FF9800'
    opacity: 0.08
    background: 'repeating-linear-gradient(45deg, rgb(from #FF9800 r g b / 0.08), rgb(from #FF9800 r g b / 0.08) 10px, rgb(from #FF9800 r g b / 0.15) 10px, rgb(from #FF9800 r g b / 0.15) 20px)'
  - name: emergency_shutdowns
    entity: calendar.planned_outages
    filter: Emergency Shutdowns
    icon: mdi:transmission-tower-off
    color: '#FF8A80'
    opacity: 0.2
  - name: schedule_applies
    entity: calendar.planned_outages
    filter: Schedule Applies
    icon: mdi:calendar-check
    color: '#29B6F6'
    opacity: 0.05
  - name: waiting_for_schedule
    entity: calendar.planned_outages
    filter: Waiting for Schedule
    icon: mdi:timer-sand
    color: '#90A4AE'
    opacity: 0.05
    hide:
      - planned_outages
css: |
  ha-card {
    --neon-green: #00E676;
    --neon-green-shadow: rgba(0, 230, 118, 0.3);
    --neon-green-bg: rgba(0, 230, 118, 0.01);
    --icon-size: 18px;
  }

  .cell {
    height: 28px;
    border-radius: var(--border-radius, 6px);
  }

  [data-type="blank"] {
    .event-block {
      background-color: var(--neon-green-bg);
      border-radius: var(--border-radius, 6px);
    }
    &.event-icon {
      color: var(--neon-green);
      opacity: 0.7;
      filter: drop-shadow(0 0 2px var(--neon-green-shadow));
    }
  }

  :not([data-type="blank"]) {
    &.event-icon {
      color: var(--color, var(--primary-text-color));
      filter: drop-shadow(0 0 2px rgb(from var(--color, var(--primary-text-color)) r g b / 0.3));
    }

    &.event-wrapper .event-sub-block {
      background: var(--background, rgb(from var(--color, var(--primary-text-color)) r g b / var(--opacity, 0.1)));
    }
  }
